const utils=loadModule("core.utils"),Output=loadModule("core.output"),table=loadModule("core.table"),out=new Output(0,lf),browserNames=utils.getBrowserShortNames(),tblOptions={align:["l"],delimiter:char.sep,stringLength:utils.ansiLength};function formatterShort(t){const e=[];out.addLine(`${lf}?c${t.prePath}?w${t.name}  ${function(){if(t.path.startsWith("webextensions"))return"";let e=[];t.standard&&e.push(`?g${text.standardShort}?R`);t.experimental&&e.push(`?y${text.experimentalShort}?R`);t.deprecated&&e.push(`?r${text.deprecatedShort}?R`);e.length||e.push(`?r${text.nonStandardShort}?R`);return e.length?"?G["+e.join(", ")+"?G]?R":"?R"}()}?R`),t.url&&out.addLine(t.url);const o=["?y"+text.hdrBrowsers];function r(e,o="?w"){const r=t.browsers[e];return r.map((t,e)=>o+browserNames[t.browser].padEnd(3)+(e===r.length-1?"?w":"?G"))}function n(t,e,o="?R",r=!1){const n=[o+utils.getFeatureName(t)];return options.desktop&&n.push(...s(e.desktop,r)),options.mobile&&n.push(...s(e.mobile,r)),options.ext&&n.push(...s(e.ext,r)),n}function s(t,e=!1){const o=[];return t.forEach((r,n)=>{const s=r.history[0];let l=utils.versionAddRem(s.add,s.removed);r.noteIndex.length&&(l+="?c*"),l+=n===t.length-1?"?w":"?G",s.flags&&s.flags.length&&(l+=e?"?mF?G":"?bF?G"),o.push(l)}),o}return options.desktop&&t.browsers.desktop.length&&o.push(...r("desktop","?w")),options.mobile&&t.browsers.mobile.length&&o.push(...r("mobile","?c")),options.ext&&t.browsers.ext.length&&o.push(...r("ext","?y")),o[o.length-1]+="?G",e.push(o),e.push(...function(){const e=[];e.push(n(t.name,t.browsers,"?w")),options.children&&t.children.length&&t.children.forEach(o=>{let r=o.name;o.name===t.name&&(r+="()"),o.standard||o.experimental||o.deprecated||(r="?G-"+r+"?R"),e.push(n(r,o.browsers,"?R",!0))});return e}()),out.add(lf,table(e,tblOptions),lf),out.toString()}module.exports=formatterShort;