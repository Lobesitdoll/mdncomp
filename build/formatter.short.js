const utils=loadModule("core.utils"),Output=loadModule("core.output"),table=loadModule("core.table"),out=new Output(0,lf),browserNames=utils.getBrowserShortNames(),tblOptions={align:["l"],delimiter:char.sep,stringLength:utils.ansiLength};function formatterShort(t){const e=[];out.addLine(`${lf}?c${t.prePath}?w${t.name}  ${function(){if(t.path.startsWith("webextensions"))return"";let e=[];t.standard&&e.push(`?g${text.standardShort}?R`);t.experimental&&e.push(`?y${text.experimentalShort}?R`);t.deprecated&&e.push(`?r${text.deprecatedShort}?R`);e.length||e.push(`?r${text.nonStandardShort}?R`);return e.length?"?G["+e.join(", ")+"?G]?R":"?R"}()}?R`),t.url&&out.addLine(t.url);const o=["?y"+text.hdrBrowsers];function n(e,o="?w"){const n=t.browsers[e];return n.map((t,e)=>o+browserNames[t.browser].padEnd(3)+(e===n.length-1?"?w":"?G"))}function r(t,e,o="?R",n=!1){const r=[o+utils.getFeatureName(t)];return options.desktop&&r.push(...s(e.desktop,n)),options.mobile&&r.push(...s(e.mobile,n)),options.ext&&r.push(...s(e.ext,n)),r}function s(t,e=!1){const o=[];return t.forEach((n,r)=>{const s=n.history[0];let u=utils.versionAddRem(s.add,s.removed);n.noteIndex.length&&(u+="?c*"),u+=r===t.length-1?"?w":"?G",s.flags&&s.flags.length&&(u+=e?"?mF?G":"?bF?G"),o.push(u)}),o}return options.desktop&&o.push(...n("desktop","?w")),options.mobile&&o.push(...n("mobile","?c")),options.ext&&o.push(...n("ext","?y")),o[o.length-1]+="?G",e.push(o),e.push(...function(){const e=[];e.push(r(t.name,t.browsers,"?w")),options.children&&t.children.length&&t.children.forEach(o=>{let n=o.name;o.name===t.name&&(n+="()"),o.standard||o.experimental||o.deprecated||(n="?G-"+n+"?R"),e.push(r(n,o.browsers,"?R",!0))});return e}()),out.add(lf,table(e,tblOptions),lf),out.toString()}module.exports=formatterShort;